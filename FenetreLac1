import javax.swing.*;
import java.awt.Color;  
import java.awt.event.*;
import java.awt.Font;

public class FenetreLac extends JFrame implements ActionListener{
    
    Animal Aigle;
    Animal Renard;
    Animal Loutre;
    Animal Truite; 
    int ani1;  // classés selon la chaîne alimentaire
    int ani2;
    int ani3;
    int ani4;
    
    JLabel affPanneau;
    boolean surpeche;
    
    JButton[] lesBoutons;
    JLabel nombreAigles;
    JLabel nombreRenards;
    JLabel nombreTruites;
    JLabel nombreLoutres;
    JLabel temperature;
	JLabel lepH;
	     
    int temp;
    int pH;
    FenetreExplication maFenetreExplication;
    
    

	
	public FenetreLac() {
		super("                                                                                                   Modelisation du lac");
		Aigle = new Animal ("Aigle", 25,1,0.9,0.9  );
		Renard = new Animal("Renard",5,7,0.9,0.2);
	    Loutre = new Animal("Loutre",8,2,0.9,0.5);
	    Truite = new Animal ("Truite",10,25,0.9,0.7 );
	    
        
        setBounds(50,50,1000,800);
        setLayout(null);
        setResizable(false);
        
        JPanel monConteneur = new JPanel();
        monConteneur.setLayout(null);
        monConteneur.setBounds(0,0,getWidth(),getHeight());
        monConteneur.setBackground(Color.lightGray);
        add(monConteneur);
        
        JPanel lac = new JPanel();
        lac.setLayout(null);
        lac.setBounds(50,30,900,500);
        lac.setBackground(Color.lightGray);
        monConteneur.add(lac);
        
        //instanciation et placement boutons
        lesBoutons = new JButton[8]; 
        int indice=0;
        for(int i=0;i<4;i++){
            for(int j=0;j<2;j++){
            lesBoutons[indice]=new JButton();
            lesBoutons[indice].setBounds(100+i*220,550+j*120,160,50); 
            lesBoutons[indice].addActionListener(this);
            monConteneur.add(lesBoutons[indice]); 
            indice++;
            }
        }
        
        //définition du libéllé (nom) des boutons
       lesBoutons[0].setText("Plus 1 degre");
       lesBoutons[1].setText("Moins 1 degre");
       lesBoutons[2].setText("pH +1");
       lesBoutons[3].setText("pH -1 ");
       lesBoutons[4].setText("Un an plus tard ");
       lesBoutons[5].setText("Surpeche");   ///
        
        //ajout images animaux 
        JLabel affRenard = new JLabel(new ImageIcon("./renard.png"));
        affRenard.setBounds(70,80,180,250);
        lac.add(affRenard);
        JLabel affLoutre = new JLabel(new ImageIcon("./loutre.png"));
        affLoutre.setBounds(340,230,250,250);
        lac.add(affLoutre);
        JLabel affTruite = new JLabel(new ImageIcon("./truite.png"));
        affTruite.setBounds(600,200,100,100);
        lac.add(affTruite);
        JLabel affAigle = new JLabel(new ImageIcon("./aigle.png"));
        affAigle.setBounds(230,0,200,80);
        lac.add(affAigle);
               
        
        //étiquette indiquand le nombre d'animaux
        ani1 = Aigle.NbTotalAnimaux();
        ani2 = Renard.NbTotalAnimaux();
        ani3 = Loutre.NbTotalAnimaux();
        ani4= Truite.NbTotalAnimaux();
        
        nombreAigles = new JLabel();
        Font police = new Font(" Arial ",Font.BOLD,20);
        nombreAigles.setFont(police);
        nombreAigles.setText(""+ani1);
        nombreAigles.setBounds(280,10,50,50);
        lac.add(nombreAigles);
        nombreRenards = new JLabel();
		nombreRenards.setFont(police);
        nombreRenards.setText(""+ani2);
        nombreRenards.setBounds(150,300,50,50);
        lac.add(nombreRenards);
        nombreLoutres = new JLabel();
        nombreLoutres.setFont(police);
        nombreLoutres.setText(""+ani3);
        nombreLoutres.setBounds(480,430,50,50);
        lac.add(nombreLoutres);
        nombreTruites = new JLabel();
        nombreTruites.setFont(police);
        nombreTruites.setText(""+ani4);
        nombreTruites.setBounds(630,270,50,50);
        lac.add(nombreTruites);
        
        
         //Affichage température
		temp = 15;
		temperature = new JLabel();
		Font policeTemp = new Font(" Arial ",Font.BOLD,17);
		temperature.setFont(policeTemp);
		temperature.setText("TEMPERATURE DU LAC : " +temp + " °C");
		temperature.setBounds(50,580,450,100);
		monConteneur.add(temperature);
    
		//Affichage pH
		pH = 7;
		lepH = new JLabel();
		Font policePH = new Font(" Arial ",Font.BOLD,17);
		lepH.setFont(policeTemp);
		lepH.setText("pH DU LAC: " +pH);
		lepH.setBounds(500,580,450,100);
		monConteneur.add(lepH);
		
		// Affichage panneau interdiction peche
        affPanneau = new JLabel(new ImageIcon("./peche_interdite.png"));
		affPanneau.setBounds(100,300,180,250);
		lac.add(affPanneau);
		//affPanneau.setVisible(false);
		
        //ajout image lac
        JLabel affLac = new JLabel(new ImageIcon("./lacPhoto.jpg"));
        affLac.setBounds(0,0,900,500);
        lac.add(affLac);
        
        

        maFenetreExplication = new FenetreExplication();
                
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);             
        setVisible(true);
        
		
	}
    
    public void actionPerformed(ActionEvent e) {
		Object source = e.getSource();
		
			Aigle.changeGeneration(temp,pH);          //En fait c'est mieux de le mettre ici car on change de génération dès qu'on appuie sur un bouton
			Renard.changeGeneration(temp,pH);
			Loutre.changeGeneration(temp,pH);
			Truite.changeGeneration(temp,pH);
			nombreAigles.setText(""+Aigle.NbTotalAnimaux());
		    nombreRenards.setText(""+Renard.NbTotalAnimaux());
			nombreLoutres.setText(""+Loutre.NbTotalAnimaux());
			nombreTruites.setText(""+Truite.NbTotalAnimaux());
		
		maFenetreExplication.setVisible(true);

		if (source == lesBoutons[0]) {
			if (temp<45){
				temp +=1;
				temperature.setText("TEMPERATURE ACTUELLE: "+temp + " °C");
			
			}
			if (temp>=45){
				JOptionPane.showMessageDialog(this,"Vous avez atteint la temperature maximale");
			}
		}
			
		if (source == lesBoutons[1]){
			if (temp>-1){
				temp -=1;
				temperature.setText("TEMPERATURE ACTUELLE: "+temp + " °C");
			}
			if (temp<=-1){
				JOptionPane.showMessageDialog(this,"Vous avez atteint la temperature minimale");
			}
		}
			
		if (source == lesBoutons[2]){
			if (pH<12){
				pH +=1;
				lepH.setText("pH DU LAC:"+pH);
			}
			if (pH>=12){
				JOptionPane.showMessageDialog(this,"Vous avez atteint le pH maximal");
			}	
		}	
			
		if (source == lesBoutons[3]) {
			if (pH>1){
				pH -=1;
			
			}
			if (pH<=1){
				JOptionPane.showMessageDialog(this,"Vous avez atteint le pH minimal");
			}
		}
			
			
		if (source == lesBoutons[4]) {
		}
		
			
			
		if (source == lesBoutons[5]) {
			
			affPanneau.setVisible(surpeche);
			if(surpeche==false)
				lesBoutons[5].setText("Arreter Surpeche");
			else
				lesBoutons[5].setText("Surpeche");
			surpeche=!surpeche;
		}
		
		if (source == lesBoutons[6]) {
		}
		
		if (source == lesBoutons[7]) {
		}	
    }
}

